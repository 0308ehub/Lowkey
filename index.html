<!DOCTYPE html>
<head
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <title>Login / Sign Up Form</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400;500;600&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="./src/login.css">
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

    <script>
        // Initialize Firebase with your project's config
        var firebaseConfig = {
            apiKey: "AIzaSyCxVVcoDCf1xUAkijjE-SJ0sT6gIPlm0y8",
            authDomain: "lowkey-365f7.firebaseapp.com",
            projectId: "lowkey-365f7",
            storageBucket: "lowkey-365f7.appspot.com",
            messagingSenderId: "1035139135538",
            appId: "1:1035139135538:web:e400ee2968b508fa7a642b",
            measurementId: "G-MX66ZYGEKX"
        };
        firebase.initializeApp(firebaseConfig);
    </script>

    <script>
        // Function to check if a user is logged in or not
        function checkAuthState() {
        firebase.auth().onAuthStateChanged(function(user) {
            if (user) {
            // User is signed in, proceed to the website
            window.location.href = "homepage.html";
            } else {
            // No user is signed in, stay on the login page
            }
        });
        }
    </script>
</head>
<body onload="checkAuthState()">
    <img class="image__logo" src="./images/lowkey.png" alt="Screenshot">

    <div class="container">
        <form class="form" id="login">
            <h1 class="form__title">Sign In</h1>
            <h2 class="form__motto">Connect with your community</h2>
            <div class="form__message form__message--error"></div>
            <div class="form__input-group">
                <input type="text" id="email" class="form__input" autofocus placeholder="Email" required>
                <div class="form__input-error-message"></div>
            </div>
            <div class="form__input-group">
                <input type="password" id="password" class="form__input" autofocus placeholder="Password" required>
                <div class="form__input-error-message"></div>
            </div>
            <button class="form__button" type="submit" onclick="login()">LOGIN</button>
            <p class="form__text">
                <a href="#" class="form__link1">Forgot your password?</a>
            </p>
            <p class="form__text">
                <a class="form__link2" href="./" id="linkCreateAccount">Don't have an account? Create account</a>
            </p>
        </form>
    
        <form class="form form--hidden" id="createAccount">
            <h1 class="form__title">Create Account</h1>
            <div class="form__message form__message--error"></div>
            <div class="form__input-group">
                <input type="text" id="signupUsername" class="form__input" autofocus placeholder="Username" required>
                <div class="form__input-error-message"></div>
            </div>
            <div class="form__input-group">
                <input type="text" class="form__input" id="signupEmail" autofocus placeholder="Email Address" required>
                <div class="form__input-error-message"></div>
            </div>
            <div class="form__input-group">
                <input type="password" class="form__input" id="signupPassword" autofocus placeholder="Password" required>
                <div class="form__input-error-message"></div>
            </div>
            <div class="form__input-group">
                <input type="password" class="form__input" id="confirmPassword" autofocus placeholder="Confirm password" required>
                <div class="form__input-error-message"></div>
            </div>
            <button class="form__button" type="submit" onclick="register()" id="submit">Continue</button>
            <p class="form__text">
                <a class="form__link3" href="./" id="linkLogin">Already have an account? Sign in</a>
            </p>
        </form>
    </div>
    <div class="footer">
        <div class="bottom__links">
            <a href="./" id="linkUserAgreement"> User Agreement</a>
            <a href="./" id="linkFeedback"> Feedback</a>
            <a href="./" id="linkPrivacyPolicy"> Privacy Policy</a>
            <a href="./" id="linkCommunityGuidelines"> Community Guidelines</a>
            <a href="./" id="linkLanguage"> Language</a>
        </div>
    </div>
    <script src="./src/login.js"></script>
</body>